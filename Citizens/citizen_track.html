<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Status Dashboard</title>
    <link rel="stylesheet" href="/nmc_header_css.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body {
      background: #fafafa;
      font-family: 'Segoe UI', sans-serif;
    }

    .journey-tabs {
      border-bottom: 1.5px solid #e0e0e0;
      margin-top: 30px;
    }

    .journey-tabs .nav-link {
      font-weight: 600;
      color: #212529;
      border: none;
      border-bottom: 2.5px solid transparent;
      background: none;
      letter-spacing: 0.5px;
      margin-right: 12px;
    }

    .journey-tabs .nav-link.active {
      color: #000;
      border-bottom: 2.5px solid #33691E;
    }

    .card.journey-card {
      border-radius: 6px;
      border: 1.5px solid #dedede;
      margin-bottom: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .card.journey-card:hover {
        transform: translateY(-1px) scale(1.01);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        border-color: #ccc;
        }

    .journey-title {
      font-size: 1.14rem;
      font-weight: 600;
      letter-spacing: 0.2px;
    }
    .status-pending {
    background: #fff3cd;
    color: #856404;
    }

    .status-wl { /* Onprogress */
    background: #d1ecf1;
    color: #0c5460;
    }

    .status-approved { /* Completed */
    background: #d4edda;
    color: #155724;
    }

    .status-label {
    padding: 4px 12px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
    }


    .expand-content {
      display: none;
      margin-top: 10px;
      border-top: 1px dashed #ccc;
      padding-top: 10px;
    }

    .print-btn {
      color: #555;
      font-size: 1rem;
      cursor: pointer;
    }

    .print-btn:hover {
      color: #33691E;
    }

    .withdraw-btn {
      background-color: #ffc107;
      border: none;
      padding: 5px 12px;
      font-size: 0.9rem;
      border-radius: 5px;
    }
    select{
        cursor: pointer;
    }
    input{
        cursor: pointer;
    }

    @media (max-width: 768px) {
      .journey-title { font-size: 1rem; }
      .journey-tabs .nav-link { padding-right: 10px; }
      .status-label {
        margin-top: 5px;
        display: inline-block;
      }
    }
  </style>
</head>

<body>
    <!--Header-->
    <section class="nmc-logo">
            <div class="container-fluid nmc-header">
              <div class="row align-items-center text-center justify-content-between">

                <!-- Left Logo -->
                <div class="col-3 col-sm-2 ml-3">
                  <a href="/index.html"><img src="/images/NMC_logo.png" class="nmc-logo-img" alt="NMC Logo"></a>
                </div>

                <!-- Center Title -->
                <div class="col-6 col-sm-8 nmc-title">
                  <h2>Naidupeta Municipal Corporation</h2>
                  <h4>నాయుడుపేట నగర పాలక సంస్థ</h4>
                </div>

                <!-- Right Logo -->
                <div class="col-3 col-sm-2 mr-3">
                  <img src="/images/AP_govt_logo.jpeg" class="nmc-logo-img" alt="Andhra Pradesh Government Logo">
                </div>

              </div>
            </div>
    </section>

    <!--Citizen dashboard Header -->
    <header class="py-2 border-bottom" style="background-color: #f9fbe7;">
      <div class="container-fluid px-3">
        <div class="d-flex align-items-center justify-content-between flex-wrap">

          <!-- Left: Title -->
          <a href="/Citizens/citizen_dashboard.html" style="text-decoration: none;"><h5 class="mb-0 fw-bold text-dark">Citizen Dashboard</h5></a>

          <!-- Right: Profile Dropdown -->
          <div class="dropdown text-end mt-2 mt-sm-0">
            <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle"
              data-bs-toggle="dropdown" aria-expanded="false">
              <img src="/images/user_logo.png" alt="User" width="38" height="38" class="rounded-circle me-2">
              <strong id="ProfileName" class="d-none d-sm-inline">Username</strong>
            </a>

            <!-- Main Dropdown -->
            <ul class="dropdown-menu dropdown-menu-end text-small shadow">
              <li><a class="dropdown-item" href="/Citizens/citizen_dashboard.html">Citizen Home</a></li>
              <li><a class="dropdown-item" href="citizen_profile_page.html">My Profile</a></li>

              <!-- Services Submenu Trigger -->
              <li class="dropdown-submenu position-relative">
                <a class="dropdown-item dropdown-toggle dropstart" href="#">Services</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="complaint-form.html">Report Complaint</a></li>
                  <li><a class="dropdown-item" href="event_permission_form.html">Event Permission</a></li>
                  <li><a class="dropdown-item" href="Health_Camp_Registration.html">Health Camp</a></li>
                </ul>
              </li>

              <li><a class="dropdown-item" href="citizen_track.html">Check Status</a></li>

              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="" id="logoutLink">log out</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <div class="container mt-4" >
        <h3 class="text-center text-success fw-bold">Your Submissions</h3>

        <!-- Tabs -->
        <ul class="nav nav-tabs journey-tabs" id="statusTabs" role="tablist">
          <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#complaints">Complaints</button></li>
          <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#permissions">Event Permissions</button></li>
          <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#health">Health Camps</button></li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-4">
          
          <!--Complaints-->
          <div class="tab-pane fade show active" id="complaints">
              <!-- Filters -->
              <div class="row my-3">
              <div class="col-md-3">
                  <select id="statusFilter" class="form-select">
                  <option value="">All Status</option>
                  <option value="Pending">Pending</option>
                  <option value="Onprogress">Onprogress</option>
                  <option value="Completed">Completed</option>
                  </select>
              </div>
              <div class="col-md-3">
                  <input type="date" id="fromDate" class="form-control" />
              </div>
              <div class="col-md-3">
                  <input type="date" id="toDate" class="form-control" />
              </div>
              <div class="col-md-3 ">
                  <button id="filter-btn" class="btn btn-success w-100">Apply Filter</button>
              </div>
              </div>
          
              <!-- Complaints will be displayed here -->
              <div id="complaints-container">
                  <p class="text-muted">Loading complaints...</p>
              </div>
          </div>

          <!-- Permissions -->
          <div class="tab-pane fade" id="permissions">
          <!-- Filters -->
          <div class="row mb-3">
              <div class="col-md-3">
              <select id="permissionStatusFilter" class="form-select">
                  <option value="">All Statuses</option>
                  <option value="Pending">Pending</option>
                  <option value="Approved">Approved</option>
                  <option value="Rejected">Rejected</option>
              </select>
              </div>
              <div class="col-md-3">
              <input type="date" id="permissionFromDate" class="form-control" placeholder="From date" />
              </div>
              <div class="col-md-3">
              <input type="date" id="permissionToDate" class="form-control" />
              </div>
              <div class="col-md-3 d-flex align-items-end">
              <button class="btn  btn-success w-100" onclick="loadEventPermissions()">Apply Filters</button>
              </div>
          </div>

          <!-- Permission Cards -->
          <div id="permissions-container"></div>
          </div>

          <!-- Health Camps -->
          <div class="tab-pane fade" id="health">
              <div class="row mb-3">
                  <div class="col-md-3">
                    <select id="healthFilterStatus" class="form-select">
                      <option value="">All Status</option>
                      <option value="Pending">Pending</option>
                      <option value="Onprogress">Onprogress</option>
                      <option value="Approved">Approved</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <input type="date" id="healthFromDate" class="form-control" placeholder="From Date" />
                  </div>
                  <div class="col-md-3">
                    <input type="date" id="healthToDate" class="form-control" placeholder="To Date" />
                  </div>
                  <div class="col-md-3">
                    <button class="btn btn-success w-100" onclick="loadHealthCamps()">Apply Filters</button>
                  </div>
              </div>
            <div id="healthcamps-container"></div>
          </div>

        </div>
    </div>


    <!-- JS for Expand -->
    <script>
      function toggleDetails(card) {
        const content = card.querySelector(".expand-content");
        content.style.display = content.style.display === "block" ? "none" : "block";
      }
    </script>

    <!--Complaint Script-->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
      loadComplaints();

      document.getElementById('filter-btn').addEventListener('click', () => {
        loadComplaints();
      });
    });

    function loadComplaints() {
      const status = document.getElementById('statusFilter').value;
      const from = document.getElementById('fromDate').value;
      const to = document.getElementById('toDate').value;

      let url = '/get-complaints';
      const params = [];
      if (status) params.push(`status=${status}`);
      if (from && to) params.push(`from=${from}&to=${to}`);
      if (params.length > 0) url += '?' + params.join('&');

      fetch(url)
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById('complaints-container');
          container.innerHTML = '';

          if (!data || !Array.isArray(data) || data.length === 0) {
            container.innerHTML = '<p class="text-muted text-center">No complaints found.</p>';
            return;
          }

          data.forEach(item => {
            const status = item.status || 'Pending';
            const statusClass = status === 'Completed' ? 'status-approved'
                              : status === 'Onprogress' ? 'status-wl'
                              : 'status-pending';

            const dateStr = new Date(item.createdAt || item._id.toString().substring(0,8)*1000).toLocaleDateString();

            const card = document.createElement('div');
            card.className = 'card journey-card p-3 mb-3';
            card.onclick = () => toggleDetails(card);

            card.innerHTML = `
              <div class="d-flex justify-content-between align-items-start flex-wrap">
                <div>
                  <div class="journey-title">${item.subject}</div>
                    <small class="text-muted">Submitted on: ${new Date(item.submittedAt).toLocaleDateString('en-IN', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                    })}  |  Complaint ID: ${item.ComplaintId} </small>
                </div>
                <div class="d-flex align-items-center flex-wrap justify-content-end gap-2">
                <span class="status-label ${statusClass}">${status}</span>
                ${status === 'Pending' || status === 'OnProgress' ? `
                <button class="withdraw-btn" onclick="event.stopPropagation(); withdrawComplaint('${item._id}', this)">Withdraw</button>
                ` : ''}
                <i class="fas fa-print print-btn me-3" onclick="event.stopPropagation(); printCard(this)"></i>

                </div>
              </div>
              <div class="expand-content">
                <p><strong>Category:</strong> ${item.category}</p>
                <p><strong>Description:</strong> ${item.description}</p>
                <p><strong>Location:</strong> ${item.location}</p>
                <p><strong>Ward:</strong> ${item.ward}</p>
                ${item.imagePath ? `<img src="${item.imagePath}" class="img-fluid rounded" style="max-height: 200px;">` : ''}              </div>
            `;
            container.appendChild(card);
          });
        })
        .catch(err => {
          console.error('Error loading complaints:', err);
          document.getElementById('complaints-container').innerHTML = '<p class="text-danger">Failed to load complaints.</p>';
        });
    }

    // Expand/collapse card
    function toggleDetails(card) {
      const content = card.querySelector(".expand-content");
      content.style.display = content.style.display === "block" ? "none" : "block";
    }

    //Delete Complaint
    function withdrawComplaint(id, btn) {
      const confirmed = confirm("Are you sure you want to withdraw this complaint?");
      if (!confirmed) return;

      fetch(`/delete-complaint/${id}`, {
        method: 'DELETE'
      })
      .then(res => res.json())
      .then(data => {
        alert(data.message);
        // Remove the card from the page
        const card = btn.closest('.journey-card');
        card.remove();
      })
      .catch(err => {
        console.error("Error withdrawing complaint:", err);
        alert("Failed to withdraw complaint. Please try again later.");
      });
    }
    </script>

    <!--Event Permission-->
    <script>
    function loadEventPermissions() {
      fetch('/get-event-permissions')
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById('permissions-container');
          const statusFilter = document.getElementById('permissionStatusFilter').value;
          const fromDate = document.getElementById('permissionFromDate').value;
          const toDate = document.getElementById('permissionToDate').value;

          if (!Array.isArray(data) || data.length === 0) {
            container.innerHTML = '<p class="text-muted">No event permission requests found.</p>';
            return;
          }

          const filtered = data.filter(item => {
            let match = true;

            if (statusFilter && item.status !== statusFilter) match = false;

            const itemDate = new Date(item.timestamp).toISOString().slice(0, 10);
            if (fromDate && itemDate < fromDate) match = false;
            if (toDate && itemDate > toDate) match = false;

            return match;
          });

          if (filtered.length === 0) {
            container.innerHTML = '<p class="text-muted">No event permission requests match the filters.</p>';
            return;
          }

          container.innerHTML = '';
          filtered.forEach(item => {
            const status = item.status || 'Pending';
            const statusClass = status === 'Approved' ? 'status-approved' :
                                status === 'Rejected' ? 'status-rejected' : 'status-pending';

            const date = new Date(item.timestamp).toLocaleDateString('en-IN');

            container.innerHTML += `
              <div class="card journey-card p-3 mb-3" onclick="toggleDetails(this)">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <div class="journey-title">${item.eventName}</div>
                    <div class="text-muted small">Submitted on: ${date}  |  EventPermission ID: ${item.EventpermissionId} </div>
                  </div>
                  <div class="d-flex align-items-center gap-2">
                    <span class="status-label ${statusClass}">${status}</span>
                    ${status === 'Pending' ? `<button class="withdraw-btn" onclick="event.stopPropagation(); withdrawPermission('${item.EventpermissionId}', this)">Withdraw</button>` : ''}
                    <i class="fas fa-print print-btn me-3" onclick="event.stopPropagation(); printCard(this)"></i>
                  </div>
                </div>
                <div class="expand-content mt-2">
                  <p><strong>Organizer:</strong> ${item.organizerName} (${item.organizerContact})</p>
                  <p><strong>Email:</strong> ${item.organizerEmail}</p>
                  <p><strong>Date & Time:</strong> ${item.eventDate}, ${item.eventTime}</p>
                  <p><strong>Location:</strong> ${item.eventLocation}</p>
                  <p><strong>Gathering:</strong> ${item.expectedGathering} people</p>
                  <p><strong>Description:</strong> ${item.eventDescription}</p>
                  ${item.specialRequests ? `<p><strong>Special Requests:</strong> ${item.specialRequests}</p>` : ''}
                  ${item.uploadDoc ? `<p><strong>Uploaded Document:</strong> <a href="${item.uploadDoc}" target="_blank">View File</a></p>` : ''}                </div>
              </div>
            `;
          });
        })
        .catch(err => {
          console.error('Error loading event permissions:', err);
          document.getElementById('permissions-container').innerHTML = '<p class="text-danger">Failed to load permissions.</p>';
        });
    }

    function toggleDetails(card) {
      const content = card.querySelector('.expand-content');
      content.style.display = content.style.display === 'block' ? 'none' : 'block';
    }

    function withdrawPermission(id, btn) {
      if (confirm(`Are you sure! you want to withdraw event permission  ( ${id}? )`)) {
        fetch(`/delete-event-permission/${id}`, { method: 'DELETE' })
          .then(res => res.json())
          .then(data => {
            alert(data.message);
            btn.closest('.card').remove();
          })
          .catch(err => {
            console.error('Error withdrawing permission:', err);
            alert('Failed to withdraw permission');
          });
      }
    }

    document.addEventListener('DOMContentLoaded', loadEventPermissions);
    </script>

    <!--Health Camp Request-->
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Attach click to filter button if any
      const filterBtn = document.getElementById('healthFilterBtn');
      if (filterBtn) {
        filterBtn.addEventListener('click', loadHealthCamps);
      }

      // Initial load
      loadHealthCamps();
    });

    function loadHealthCamps() {
      const container = document.getElementById('healthcamps-container');
      const status = document.getElementById('healthFilterStatus')?.value || '';
      const from = document.getElementById('healthFromDate')?.value;
      const to = document.getElementById('healthToDate')?.value;

      const params = new URLSearchParams();
      if (status) params.append('status', status);
      if (from) params.append('from', from);
      if (to) params.append('to', to);

      fetch(`/get-healthcamps?${params.toString()}`)
        .then(res => res.json())
        .then(data => {
          container.innerHTML = '';

          if (!data || !Array.isArray(data) || data.length === 0) {
            container.innerHTML = '<p class="text-muted text-center">No health camps found.</p>';
            return;
          }

          data.forEach(camp => {
            const statusClass =
              camp.status === 'Completed' ? 'status-approved' :
              camp.status === 'Onprogress' ? 'status-wl' :
              'status-pending';

            container.innerHTML += `
              <div class="card journey-card p-3" onclick="toggleDetails(this)">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <div class="journey-title">${camp.campTitle}</div>
                    <small class="text-muted">
                      Submitted on: ${new Date(camp.timestamp).toLocaleDateString()} |
                      Health Camp ID: ${camp.HealthcampId}
                    </small>
                  </div>
                  <div class="d-flex align-items-center">
                    <span class="me-2 status-label ${statusClass}">${camp.status}</span>
                    ${camp.status === 'Pending' ? `
                      <button class="me-2 withdraw-btn" onclick="event.stopPropagation(); withdrawHealthCamp('${camp.HealthcampId}')">
                        Withdraw
                      </button>` : ''}
                    <i class="fas fa-print print-btn me-3" onclick="event.stopPropagation(); printCard(this)"></i>
                  </div>
                </div>
                <div class="expand-content">
                  <p><strong>Organization:</strong> ${camp.orgName}</p>
                  <p><strong>Contact Person:</strong> ${camp.contactPerson} (${camp.contactNumber})</p>
                  <p><strong>Email:</strong> ${camp.email}</p>
                  <p><strong>Purpose:</strong> ${camp.campPurpose}</p>
                  <p><strong>Services Offered:</strong> ${camp.services}</p>
                  <p><strong>Doctors:</strong> ${camp.doctorsCount}</p>
                  <p><strong>Date:</strong> ${camp.campDate} (${camp.duration})</p>
                  <p><strong>Location:</strong> ${camp.location}</p>
                  <p><strong>Govt. Collaboration:</strong> ${camp.govtCollab}</p>
                  <p><strong>Remarks:</strong> ${camp.remarks || 'None'}</p>
                  ${camp.uploadProposal ? `<p><strong>Proposal:</strong> <a href="${camp.uploadProposal}" target="_blank">View Uploaded File</a></p>` : ''}
                </div>
              </div>
            `;
          });
        })
        .catch(err => {
          console.error('Error:', err);
          container.innerHTML = '<p class="text-danger text-center">Failed to load data.</p>';
        });
    }

    // Withdraw Function
    function withdrawHealthCamp(id) {
      if (!confirm(`Are you sure you want to withdraw health camp request: ${id}?`)) return;

      fetch(`/delete-healthcamp/${id}`, {
        method: 'DELETE',
      })
        .then(res => res.json())
        .then(data => {
          alert(data.message || 'Withdrawn');
          loadHealthCamps(); // reload only, no full page refresh
        })
        .catch(err => {
          console.error('Withdraw Error:', err);
          alert('Error withdrawing request');
        });
    }
    </script>

    <!-- Print Card-->
    <script>
    function printCard(icon) {
      const card = icon.closest('.journey-card');
      const originalContent = document.body.innerHTML;
      // Extract only the card content
      const printContent = `
        <html>
          <head>
            <title>Print</title>
                <link rel="stylesheet" href="nmc_header_css.css">
            <style>
              body {
                font-family: 'Segoe UI', sans-serif;
                padding: 20px;
                background-color: white;
              }
              .journey-card {
                border: 1.5px solid #dedede;
                border-radius: 6px;
                padding: 20px;
              }
            </style>
          </head>
          <body>
            ${card.outerHTML}</body>
        </html>
      `;

      // Open a new window and print only the card
      const printWindow = window.open('', '_blank');
      printWindow.document.write(printContent);
      printWindow.document.close();
      printWindow.focus();

      // Wait for content to load before printing
      printWindow.onload = () => {
        printWindow.print();
        printWindow.close();
      };
    }
    </script>

      <!--To retrieve data -->
      <script>
      document.addEventListener('DOMContentLoaded', async () => {
      const mobile = localStorage.getItem('citizenMobile'); // or sessionStorage


      if (!mobile) {
        console.warn("Mobile not found in storage");
        return;
      }

      try {
        const res = await fetch(`/profile/${mobile}`);
        const data = await res.json();

        if (res.ok) {
          document.getElementById("ProfileName").innerText = data.name;
          document.querySelector('.profile-summary').innerHTML = `
            <div class="row">
              <div class="col-md-4"><strong>Name:</strong> ${data.name}</div>
              <div class="col-md-4"><strong>Ward:</strong> ${data.ward}</div>
              <div class="col-md-4"><strong>Mobile:</strong> +91-${data.mobile}</div>
            </div>
          `;
          console.log(data.name,data.ward);
        } else {
          document.querySelector('.profile-summary').innerText = '❌ Error loading profile';
        }
      } catch (err) {
        console.error('Fetch error:', err);
        document.querySelector('.profile-summary').innerText = '⚠️ Server error';
      }
    });
    </script>

      <!--Dropdown at profile-->
      <script>
          // Your checkAuthenticationStatus function (if it's not in a separate .js file)
          async function checkAuthenticationStatus() {
              try {
                  const response = await fetch('/api/check-auth-status');
                  if (!response.ok) {
                      alert('Your session has expired or is invalid. Please log in again.');
                      window.location.href = '/citizen_login.html';
                  }
              } catch (error) {
                  console.error('Error checking authentication status:', error);
                  alert('An error occurred while verifying your session. Please try logging in again.');
                  window.location.href = '/citizen_login.html';
              }
          }

          // Single DOMContentLoaded listener for all your page's initial JavaScript
          document.addEventListener('DOMContentLoaded', () => {

              // --- Authentication Check Logic ---
              checkAuthenticationStatus(); // Call on page load
              document.addEventListener('visibilitychange', () => {
                  if (document.visibilityState === 'visible') {
                      checkAuthenticationStatus(); // Call when tab becomes active
                  }
              });

              // --- Logout Link Logic ---
              const logoutLink = document.getElementById('logoutLink');
              if (logoutLink) {
                  logoutLink.addEventListener('click', async (event) => {
                      event.preventDefault();

                      try {
                          const response = await fetch('/logout', {
                              method: 'POST',
                              headers: { 'Content-Type': 'application/json' }
                          });

                          if (response.ok) {
                              console.log('Logout successful!');
                              window.location.href = '/citizen_login.html';
                          } else {
                              const errorData = await response.json();
                              console.error('Logout failed:', errorData.message || 'Server error');
                              alert('Logout failed: ' + (errorData.message || 'Please try again.'));
                          }
                      } catch (error) {
                          console.error('Network error during logout:', error);
                          alert('An error occurred during logout. Please check your internet connection.');
                      }
                  });
              }

              // --- YOUR NEW DROPDOWN SUBMENU LOGIC GOES HERE ---
              document.querySelectorAll(".dropdown-submenu .dropdown-toggle").forEach(function (element) {
                  element.addEventListener("click", function (e) {
                      e.preventDefault();
                      e.stopPropagation();
                      let submenu = this.nextElementSibling;
                      if (submenu) {
                          submenu.classList.toggle("show");
                      }

                      // Close other open submenus
                      document.querySelectorAll(".dropdown-submenu .dropdown-menu").forEach(function (el) {
                          if (el !== submenu) el.classList.remove("show");
                      });
                  });
              });

              // Add any other DOMContentLoaded related JavaScript here
          });
      </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
